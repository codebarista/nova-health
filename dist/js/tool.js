(function(e,l){typeof exports=="object"&&typeof module<"u"?l(require("vue"),require("LaravelNova")):typeof define=="function"&&define.amd?define(["vue","LaravelNova"],l):(e=typeof globalThis<"u"?globalThis:e||self,l(e.Vue,e.LaravelNova))})(this,function(e,l){"use strict";const g={class:"nova-health"},_={class:"flex items-center justify-between mb-3"},h={class:"text-xl"},f={key:0,class:"text-sm text-gray-400 ml-4"},y=["disabled","loading"],x=[e.createElementVNode("div",{class:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] text-primary-500 motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status"},null,-1)],N={key:0,class:"grid md:grid-cols-12 gap-6"},E={class:"md:col-span-4 h-full p-6 flex items-start relative overflow-hidden bg-white dark:bg-gray-800 rounded-lg shadow md:col-span-4"},k={class:"text-lg"},V={class:"text-sm mt-2"},b={key:0,class:"mt-3 grid gap-1"},B={class:"inline-block font-bold text-gray-500 mr-1"},u={key:1,class:"mt-3 grid gap-1 text-gray-400"},S={class:"font-bold text-gray-500"},w={class:"font-bold text-gray-500"},D={class:"font-bold text-gray-500"},L={key:2,class:"mt-3 grid gap-1"},C={class:"font-bold text-gray-500 mr-1"},z=e.defineComponent({__name:"Tool",props:{card:{}},setup(T){const{__:d}=l.useLocalization(),s=e.ref(!1),r=e.ref([]),c=e.ref(null);async function m(){s.value=!0,await fetch("/nova-vendor/stepanenko3/nova-health").then(n=>n.json()).then(n=>{r.value=n.checkResults;const o=new Date(n.finishedAt*1e3),i=("0"+o.getDate()).slice(-2)+"/"+("0"+(o.getMonth()+1)).slice(-2)+"/"+o.getFullYear()+" "+("0"+o.getHours()).slice(-2)+":"+("0"+o.getMinutes()).slice(-2);c.value=i}).catch(n=>{console.error("Error fetching health:",n)}),s.value=!1}e.onMounted(()=>{m()});function p(n,o){return o.hasOwnProperty(n)?o[n]:o.default}return(n,o)=>{const i=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",g,[e.createElementVNode("div",_,[e.createElementVNode("span",h,e.toDisplayString(e.unref(d)("Health")),1),c.value?(e.openBlock(),e.createElementBlock("span",f,e.toDisplayString(c.value),1)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"ml-auto shadow-lg bg-white dark:bg-gray-800 cursor-pointer w-8 h-8 flex items-center justify-center rounded-lg hover:opacity-75 transition",disabled:s.value,loading:s.value,onClick:m},[e.createVNode(i,{type:"refresh",class:"w-4 h-4"})],8,y)]),e.createElementVNode("div",{class:e.normalizeClass(["absolute flex items-center justify-center inset-0 bg-white/50 dark:bg-gray-900/80 z-20",{"opacity-0  pointer-events-none":!s.value,"relative min-h-[200px] bg-transparent":r.value.length<=0}])},x,2),r.value.length?(e.openBlock(),e.createElementBlock("div",N,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,t=>(e.openBlock(),e.createElementBlock("div",E,[e.createVNode(i,{width:"30",height:"30",class:e.normalizeClass(["mr-4 flex-shrink-0",p(t.status,{ok:"text-green-500",warning:"text-yellow-500",skipped:"text-blue-500",failed:"text-red-500",crashed:"text-red-500",default:"text-gray-500"})]),type:p(t.status,{ok:"check-circle",warning:"exclamation-circle",skipped:"arrow-circle-right",failed:"x-circle",crashed:"exclamation-circle",default:"dots-circle-horizontal"})},null,8,["class","type"]),e.createElementVNode("div",null,[e.createElementVNode("div",k,e.toDisplayString(t.label),1),e.createElementVNode("div",V,e.toDisplayString(t.notificationMessage||t.shortSummary),1),t.name==="OutdatedPackages"&&t?.meta?.outdated?(e.openBlock(),e.createElementBlock("div",b,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.meta.outdated,a=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("span",B,e.toDisplayString(a.name),1),e.createElementVNode("span",null,e.toDisplayString(a.version)+" -> "+e.toDisplayString(a.latest),1)]))),256))])):t.name==="CpuLoad"?(e.openBlock(),e.createElementBlock("div",u,[e.createElementVNode("div",null,[e.createTextVNode(" Last minute: "),e.createElementVNode("span",S,e.toDisplayString(t.meta.last_minute)+"%",1)]),e.createElementVNode("div",null,[e.createTextVNode(" Last 5 minutes: "),e.createElementVNode("span",w,e.toDisplayString(t.meta.last_5_minutes)+"%",1)]),e.createElementVNode("div",null,[e.createTextVNode(" Last 15 minutes: "),e.createElementVNode("span",D,e.toDisplayString(t.meta.last_15_minutes)+"%",1)])])):t.name==="DatabaseTableSize"?(e.openBlock(),e.createElementBlock("div",L,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Object.values(t.meta),a=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("div",null,[e.createElementVNode("span",C,e.toDisplayString(a.name),1),e.createElementVNode("span",null," used "+e.toDisplayString(a.actualSize)+" of "+e.toDisplayString(a.maxSize),1)])]))),256))])):e.createCommentVNode("",!0)])]))),256))])):e.createCommentVNode("",!0)])}}});Nova.booting((T,d)=>{Nova.inertia("NovaHealth",z)})});
